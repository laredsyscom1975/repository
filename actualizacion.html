<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>OviUnad</title>
   <link href="css/bootstrap.css" rel="stylesheet">
   <link href="css/micss.css" rel="stylesheet">
</head>

<body class="container-fluid fondoazul">
        <header > <!-- bloque para imagen expandida-->
        <div class=" col-sx-12 col-sm-12 col-md-12 col-lg-12 ">
            <img src ="images/banner-unad.png" class="img-fluid img-responsive" >
        </div>
        </header>
    
    
   <div class="row col-sx-12 col-sm-push-12 col-md-push-12 col-lg-push-12 ">      <!-- bloque para titulares-->
  		<h1 class="centrado" >Diseño web 1</h1>	  			
   </div>
       
        
   
   
    
       <!-- este es el body de la pagina -->
       <div class="col-sm-12 ">
          
       </div>
                  <div class="col-sm-5  ">
                  <H6>Actualización de registros en mysql con php</h6>
                  Actualizar datos en mysql con php

Ya sabemos cómo guardar datos en una base de datos y como leerlos. La siguiente tarea que tendremos que realizar con mucha frecuencia en nuestra Web es la actualización de esos datos, es decir, modificar los valores de los datos ya guardados.

Para actualizar datos, lo mismo que para mostrar todos los datos correspondientes a un registro desde un listado, necesitamos identificar cada registro. En este caso vamos a identificar los registros por su “id”.


Por tanto, para iniciar la actualización vamos a crear un formulario en el que introduciremos el id que queremos actualizar, y seguidamente tras enviar este dato, nos aparecerá un formulario que contiene los datos que queremos actualizar. En este formulario los modificaremos y los actualizaremos con la correspondiente consulta.
Por tanto, ahora tendremos que crear tres páginas, de ellas quizás pueda pasar desapercibido que en el form2.php la variable “id” se envía a través de un campo oculto (hidden) para ejecutar la actualización en la página de actualización.

                  <p >
                
                  </p>
                  </div>
       <div class="col-sm-1 ">
           <a href="index.html" class="btn btn-default">Inicio</a><br>
           <a href="insercion.html" class="btn btn-default">Insertar</a><br>
           <a href="lectura.html" class="btn btn-default">Leer</a><br>
           <a href="#" class="btn btn-default">Actualizar</a><br>
           <a href="borrado.html" class="btn btn-default">Eliminar</a>
           <a href="creditos.html" class="btn btn-default">Creditos...</a>
       </div>
                
             
          
         <div class="col-sm-6 ">
            
         <p class="margen20"> 
             <pre class="pre-scrollable">
             <code class="minimi">
                 
&lt;html&gt; 

&lt;head&gt; 
&lt;title&gt;Iniciar actualización.&lt;/title&gt; 
&lt;META name='robot' content='noindex, nofollow'&gt; 
&lt;/head&gt; 

&lt;body&gt; 

&lt;div align="center"&gt; 
    &lt;table border="0" width="600" style="font-family: Verdana; font-size: 8pt" id="table1"&gt; 
        &lt;tr&gt; 
            &lt;td colspan="2"&gt;&lt;h3 align="center"&gt;Actualización de datos&lt;/h3&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;form method="POST" action="form2.php"&gt; 
        &lt;tr&gt; 
            &lt;td width="50%"&gt;&nbsp;&lt;/td&gt; 
            &lt;td width="50%"&gt;&nbsp;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width="50%"&gt; 
            &lt;p align="center"&gt;&lt;b&gt;ID del registro a actualizar: &lt;/b&gt;&lt;/td&gt; 
            &lt;td width="50%"&gt; 
            &lt;p align="center"&gt;&lt;input type="text" name="id" size="20"&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width="50%"&gt;&nbsp;&lt;/td&gt; 
            &lt;td width="50%"&gt;&nbsp;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width="100%" colspan="2"&gt; 
            &lt;p align="center"&gt; 
            &lt;input type="submit" value="Iniciar actualización" name="B1"&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;/form&gt; 
    &lt;/table&gt; 
&lt;/div&gt; 

&lt;/body&gt; 

&lt;/html&gt; 

======== form2.php 
&lt;html&gt; 

&lt;head&gt; 
&lt;title&gt;Datos a actualizar.&lt;/title&gt; 
&lt;META name='robot' content='noindex, nofollow'&gt; 
&lt;/head&gt; 

&lt;?php  
$id = $_POST['id']; 

include('abre_conexion.php');   

    $query = "select * from $tabla_db1 where id = '$id'"; 
    $result = mysql_query($query); 

while ($registro = mysql_fetch_array($result)){ 

echo " 
&lt;body&gt; 

&lt;div align='center'&gt; 
    &lt;table border='0' width='600' style='font-family: Verdana; font-size: 8pt' id='table1'&gt; 
        &lt;tr&gt; 
            &lt;td colspan='2'&gt;&lt;h3 align='center'&gt;Actualice los datos que considere&lt;/h3&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td colspan='2'&gt;En los campos del formulario puede ver los valores actuales,  
            si no se cambian los valores se mantienen iguales.&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;form method='POST' action='actualiza.php'&gt; 
        &lt;tr&gt; 
            &lt;td width='50%'&gt;&nbsp;&lt;/td&gt; 
            &lt;td width='50%'&gt;&nbsp;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width='50%'&gt;&lt;p align='center'&gt;&lt;b&gt;Nombre: &lt;/b&gt;&lt;/td&gt; 
            &lt;td width='50%'&gt;&lt;p align='center'&gt;&lt;input type='text' name='nombre' size='20' value='".$registro['nombre']."'&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width='50%'&gt;&lt;p align='center'&gt;&lt;b&gt;E-mail:&lt;/b&gt;&lt;/td&gt; 
            &lt;td width='50%'&gt;&lt;p align='center'&gt;&lt;input type='text' name='email' size='20' value='".$registro['email']."'&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;tr&gt; 
            &lt;td width='50%'&gt;&nbsp;&lt;/td&gt; 
            &lt;td width='50%'&gt;&nbsp;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;input type='hidden' name='id' value='$id'&gt; 
        &lt;tr&gt; 
            &lt;td width='100%' colspan='2'&gt; 
            &lt;p align='center'&gt; 
            &lt;input type='submit' value='Actualizar datos' name='B1'&gt;&lt;/td&gt; 
        &lt;/tr&gt; 
        &lt;/form&gt; 
    &lt;/table&gt; 
&lt;/div&gt; 
"; 
} 
include('cierra_conexion.php');   
?&gt; 
&lt;/body&gt; 

&lt;/html&gt; 

======== actualiza.php 
&lt;html&gt; 

&lt;head&gt; 
&lt;title&gt;Actualizacion completada.&lt;/title&gt; 
&lt;META name='robot' content='noindex, nofollow'&gt; 
&lt;/head&gt; 

&lt;body&gt; 

&lt;?php 
// Actualizamos en funcion del id que recibimos 

$id = $_POST['id']; 

$nombre = $_POST['nombre']; 
$email = $_POST['email']; 
$fecha = date("d-m-Y"); 

include('abre_conexion.php');   

$sSQL="Update $tabla_db1 Set nombre='$nombre',email='$email',fecha='$fecha' where id='$id'"; 
mysql_query($sSQL); 

include('cierra_conexion.php');   

echo " 
&lt;p&gt;Los datos han sido actualizados con exito.&lt;/p&gt; 

&lt;p&gt;&lt;a href='javascript:history.go(-1)'&gt;VOLVER ATRÁS&lt;/a&gt;&lt;/p&gt; 

&lt;p&gt;&lt;a href='javascript:history.go(-2)'&gt;INICIO&lt;/a&gt;&lt;/p&gt; 
"; 
?&gt; 

&lt;/body&gt; 

&lt;/html&gt;


 </code>

                 </pre>
            
        

  
 
         </p>
          </div>


  
      <div class="col-sm-12 pie ">
          
        <footer>
           <p>Dise&ntildeado; por Jes&uacutes; Bola&ntildeo;.<br>
                Contactenos en laredsyscom@gmail.com<br>
                Hecho con Bootstrap 2017<br>
            Todos los Derechos reservados</p>
        </footer>
      </div>
<script src = "js/jquery-3.2.1.min.js"></script>
<script src = "js/bootstrap.min.js"></script>

</body>
</html>